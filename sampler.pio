.program sampler

.wrap_target
    set x, 31            ; Инициализируем счетчик (32 итерации)
    
sample_loop:
    in pins, 1           ; Читаем бит в ISR
    jmp x--, sample_loop ; Повторяем 32 раза
    
    ; После 32 итераций ISR заполнен и автоматически отправляется в FIFO
    ; благодаря настройке autopush
.wrap